// In /block/new.tsx
import { useUser } from '@supabase/auth-helpers-react';
const user = useUser();

await fetch('/api/create-block', {
  method: 'POST',
  headers: {
    Authorization: `Bearer ${user?.access_token}`,
  },
  body: JSON.stringify({ lat, lon, title, message, emoji })
});
